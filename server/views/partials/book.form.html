{% from "partials/admin.form.html" import textInput, selectInput, numberInput, dashedDivider, tagInput %}

{{ textInput("title","Tên sách", book.title) }}
{{ textInput("author", "Tác giả", book.author) }}
{{ selectInput(languages, "language", "Ngôn ngữ", book.language.name) }}
{{ selectInput(categories, "category", "Lĩnh vực", book.category.name) }}
{{ selectInput(types, "type", "Loại Sách", book.type.name) }}
{{ textInput("publisher", "Nhà xuất bản", book.publisher) }}
<!-- <div class="form-group row">
  <label class="col-sm-2 col-form-label">Ngày xuất bản</label>
  <div class="col-sm-10">
    <div class="input-group date">
      <span class="input-group-addon"><i class="fa fa-calendar"></i></span><input type="text"
        class="form-control" value="27/04/2020" name="publishingYear">
    </div>
  </div>
</div> -->
{{ numberInput("publishingYear", "Năm xuất bản", book.publishingYear)}}
{{ numberInput("bookCount", "Số lượng", book.bookCount) }}
{{ numberInput("pageCount", "Số trang", book.pageCount) }}
{{ tagInput("tags", "Chọn Tag:", book.tagString() if book.tagString else '')}}
<div class="form-group row">
  <label class="col-sm-2 col-form-label">Mô tả sách</label>
  <div class="col-sm-10">
    <textarea class="form-control" required name="desc" rows="20">{{book.desc}}</textarea>
  </div>
</div>
{{ dashedDivider() }}

{% if book.testimonial %}
<input type="text" value="{{book.testimonial | dump}}" hidden name="testimonial">
{% endif %}

{% if book.coverImage %}
<div class="form-group row">
  <label class="col-sm-2 col-form-label">Ảnh bìa hiện tại</label>
  <div class="col-sm-10">
    <img src="{{book.coverImage}}">
    <input type="text" value="{{book.coverImage}}" name="coverImage" hidden>
  </div>
</div>
{{ dashedDivider() }}
{% endif %}

<div class="form-group row">
  <label class="col-sm-2 col-form-label">Ảnh bìa</label>
  <div class="col-sm-10">
    <div class="col-md-6">
      <div class="image-crop">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==">
      </div>
    </div>
    <div class="col-md-6">
      <h4>Preview image</h4>
      <div class="img-preview img-preview-sm"></div>
      <div>
        <label title="Upload image file" for="inputImage" class="btn btn-primary">
          <input type="file" accept="image/*" name="file" id="inputImage" style="display:none">
          Upload image
        </label>
      </div>
      <br>
      <h4>Modify image</h4>
      <div class="btn-group">
        <button class="btn btn-white" id="zoomIn" type="button">Zoom In</button>
        <button class="btn btn-white" id="zoomOut" type="button">Zoom Out</button>
        <button class="btn btn-white" id="rotateLeft" type="button">Rotate Left</button>
        <button class="btn btn-white" id="rotateRight" type="button">Rotate Right</button>
        <button class="btn btn-warning" id="setDrag" type="button">New crop</button>
      </div>
    </div>
  </div>
</div>
<div class="hr-line-dashed"></div>
<div class="form-group row">
  <div class="col-sm-4 col-sm-offset-2">
    <a href="/admin/book" class="btn btn-white btn-sm" id="cancel-btn">Cancel</a>
    <button id="submit-btn" class="btn btn-primary btn-sm" type="submit">Create</button>
  </div>
</div>