<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thư viện HCMUS - Quản lý sách</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet" />
  <link href="/font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link href="/css/plugins/dataTables/datatables.min.css" rel="stylesheet" />
  <link href="/css/animate.css" rel="stylesheet" />
  <link href="/css/plugins/datapicker/datepicker3.css" rel="stylesheet">
  <link href="/css/plugins/cropper/cropper.min.css" rel="stylesheet">
  <link href="/css/style.css" rel="stylesheet" />
  <link href="/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
  <link href="/css/plugins/toastr/toastr.min.css" rel="stylesheet">
  {% block style %}
  {% endblock %}
</head>

<body>
  <div id="wrapper">
    <nav class="navbar-default navbar-static-side" role="navigation">
      <div class="sidebar-collapse">
        <ul class="nav metismenu" id="side-menu">
          <li class="nav-header">
            <div class="dropdown profile-element">
              <span>
                <img alt="image" class="img-circle" src="/img/pepe.jpg" style="width: 48px; height: 48px;" />
              </span>
              <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <span class="clear">
                  <span class="block m-t-xs">
                    <strong class="font-bold">{{ admin.fullname }}</strong>
                  </span>
                  <span class="text-muted text-xs block">
                    {% if admin.username === "admin" %}
                    Admin
                    {% else %}
                    Librarian
                    {% endif %} 
                    <b class="caret"></b>
                  </span>
                </span>
              </a>
            </div>
            <div class="logo-element">
              IN+
            </div>
          </li>          
          {% if admin.username == 'admin' %}
          <li class="{{ ['/create-librarian'] | activeRoute }}">
            <a href="/admin/create-librarian">
              <i class="fa fa-user-plus"></i>
              <span class="nav-label">Tạo tài khoản thủ thư</span>
            </a>
          </li>
          {% endif %}
          <li class="{{ ['/update-password'] | activeRoute }}">
            <a href="/admin/update-password">
              <i class="fa fa-key"></i>
              <span class="nav-label">Đổi mật khẩu</span>
            </a>
          </li>
          <li class="{{ ['/borrow', '/return'] | activeRoute }}">
            <a href="#">
              <i class="fa fa-th-large"></i>
              <span class="nav-label">Quản lý mượn trả sách</span>
              <span class="fa arrow"></span>
            </a>
            <ul class="nav nav-second-level collapse">
              <li class="{{ ['/borrow'] | activeRoute }}">
                <a href="/admin/borrow">Nhận sách</a>
              </li>
              <li class="{{ ['/return'] | activeRoute }}">
                <a href="/admin/return">Trả sách</a>
              </li>
            </ul>
          </li>
          <li class="{{ ['/book', '/book/new', '/book/update'] | activeRoute }}">
            <a href="#">
              <i class="fa fa-bar-chart-o"></i>
              <span class="nav-label">Quản lý sách</span>
              <span class="fa arrow"></span>
            </a>
            <ul class="nav nav-second-level collapse">
              <li class="{{ ['/book'] | activeRoute }}">
                <a href="/admin/book">Xem danh sách</a>
              </li>
              <li class="{{ ['/book/new'] | activeRoute }}">
                <a href="/admin/book/new">Thêm sách</a>
              </li>
              <li class="{{ ['/book/update'] | activeRoute }}">
                <a href="/admin/book/update">Chỉnh sửa thông tin sách</a>
              </li>
            </ul>
          </li>
          <li class="{{ ['/reader'] | activeRoute }}">
            <a href="/admin/reader">
              <i class="fa fa-users"></i>
              <span class="nav-label">Import sinh viên</span>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <div id="page-wrapper" class="gray-bg">
      <div class="row border-bottom">
        <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
          <div class="navbar-header">
            <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i>
            </a>
          </div>
          <ul class="nav navbar-top-links navbar-right">
            <li>
              <a href=/admin/logout> <i class="fa fa-sign-out"></i> Log out </a>
            </li>
          </ul>
        </nav>
      </div>
      <div class="row wrapper border-bottom white-bg page-heading">
        {% block breadcrumb %}
        {% endblock %}
        <div class="col-lg-2"></div>
      </div>
      <div class="wrapper wrapper-content animated fadeInRight">
        {% block body %}
        {% endblock %}
      </div>
      <div class="footer">
        <div><strong>Copyright</strong> Team 13 &copy; 2020-2021</div>
      </div>
    </div>

    <!-- Mainly scripts -->
    <script src="/js/jquery-3.1.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    <script src="/js/plugins/dataTables/datatables.min.js"></script>

    <!-- Custom and plugin javascript -->
    <script src="/js/inspinia.js"></script>
    <script src="/js/plugins/datapicker/bootstrap-datepicker.js"></script>
    <script src="/js/plugins/pace/pace.min.js"></script>
    <script src="/js/plugins/cropper/cropper.min.js"></script>

    <!-- Toastr -->
    <script src="/js/plugins/toastr/toastr.min.js"></script>

    <!-- Page-Level Scripts -->
    {% block scripts %}
    {% endblock %}
    <script>
      $(document).ready(function() {
        {% if successMessage %}
        setTimeout(function() {
          toastr.options = {
            closeButton: true,
            progressBar: true,
            showMethod: 'slideDown',
            timeOut: 2000
          };
          toastr.success("{{ successMessage }}", "System");
        }, 300);
        {% endif %}

        {% if errorMessage %}
        setTimeout(function() {
          toastr.options = {
            closeButton: true,
            progressBar: true,
            showMethod: 'slideDown',
            timeOut: 2000
          };
          toastr.error("{{ errorMessage }}", "System");
        }, 300);
        {% endif %}
      });
    </script>
</body>

</html>